import kivy

kivy.require('1.0.6')  # replace with your current kivy version !

import datetime

from kivy.app import App
from kivy.clock import Clock
from kivy.uix.button import Button
from kivy.uix.boxlayout import BoxLayout



class MyApp(App):
    def build(self):
        self.modes = (
            '%I:%m:%S',                                                                             #MODE 0 = HEURE: MINUTE: SECONDE
            '%H:%m:%S:',                                                                            #MODE 1 = HEURE: MINUTE: SECONDE: MICROSECONDES (nombre modifiable de micro's)
            '%S:',                                                                                  #MODE 2 = SECONDE: MICROSECONDES (nombre modifiable de micro's)
        )
        self.mode = 1                                                                               #CHIFFRE DU MODE DE BASE [A CHANGER AVEC TOUTE APPELATION DE MODE]
        self.main_box = BoxLayout(orientation='vertical')

        self.button = Button(text='label', font_size=150, font_name='comic.ttf')
        self.main_box.add_widget(self.button)

        self.button.bind(on_press=self.tap)
        Clock.schedule_interval(self.timer, 0.01)

        return self.main_box

    def tap(self, button):
        if self.mode + 1 == len(self.modes):                                                        #tap & taptwo change le mode [Bouton]
            self.mode = 0
        else:
            self.mode += 1


    def taptwo(self, button):
        if self.mode + 0 == len(self.modes):
            self.mode = 1
        else:
            self.mode += 0



    def timer(self, dt):
        now = datetime.datetime.now()
        self.button.text = now.strftime(self.modes[self.mode])
        if self.mode == 1:                                                                          #NOMBRE DE MICROSECONDES POUR LE MODE EN QUESTION
            self.button.text += str(now.microsecond)[:2]
        if self.mode == 2:                                                                          #NOMBRE DE MICROSECONDES POUR LE MODE EN QUESTION
            self.button.text += str(now.microsecond)[:6]


if __name__ == '__main__':
    MyApp().run()
